<!DOCTYPE html>
<html>
<head>
  <title>CBT Exam Login</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="style.css">
</head>

<body class="center">

  <div class="card">
    <h2>üìò Data Processing Grade 10 CBT Test</h2>

    <p class="rules">
      ‚Ä¢ No tab or app switching<br>
      ‚Ä¢ No copy or paste<br>
      ‚Ä¢ Fullscreen required<br>
      ‚Ä¢ No reloading<br>
      ‚Ä¢ Violations are recorded<br>
      ‚Ä¢ After 3 Violations you will be booted out
    </p>

    <input id="name" placeholder="Student Full Name"
       oninput="validateName(this)">

<input id="class" placeholder="Class (e.g SS2A)"
       oninput="validateClass(this)">


    <button onclick="startExam()">Start Exam</button>
  </div>

  

  <script>
    function validateName(input) {
  // Allow letters and spaces only
  input.value = input.value.replace(/[^a-zA-Z\s]/g, "");
}

function validateClass(input) {
  // Allow letters and numbers only
  input.value = input.value.replace(/[^a-zA-Z0-9]/g, "");
}
    function startExam() {
      const name = document.getElementById("name").value.trim();
      const cls = document.getElementById("class").value.trim();
      const attemptKey = `${name}_${cls}_attempted`;

if (localStorage.getItem(attemptKey)) {
  alert("‚ùå You have already taken this exam.");
  return;
}

localStorage.setItem(attemptKey, "yes");


      if (!name || !cls) {
        alert("Please enter your name and class");
        return;
      }
if (!/^[A-Za-z\s]{3,}$/.test(name)) {
  alert("‚ùå Name must contain letters only.");
  return;
}

if (!/^[A-Za-z0-9]{2,}$/.test(cls)) {
  alert("‚ùå Class must be letters and numbers only.");
  return;
}

      localStorage.name = name;
      localStorage.class = cls;

      window.location.href = "exam.html";
    }
  </script>

</body>
</html>
